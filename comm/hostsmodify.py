#!/usr/bin/python
#! coding=utf-8
import platform
from time import sleep

def judge_plat_form():
	global PLATFORM
	PLATFORM = platform.system()

#  depend the platform, set the path for the hosts
def set_path():
	judge_plat_form()
	global PLATFORM
	global PATH
	if PLATFORM == 'Linux':
		PATH = '/etc/hosts'
	elif PLATFORM == "Darwin":
		PATH = '/etc/hosts'
	elif PLATFORM == 'Windows':
		PATH = r'C:\Windows\System32\drivers\etc\hosts'
	else:
		pass
# add hostname to /etc/hosts otherwise when use `sudo xxx` will wait for long time
def add_hostname(hostname,ip):
	set_path()
	hosts = open(PATH, 'a+')
	hosts.writelines('\n{}\t{}\n'.format(ip,hostname))
	hosts.close()

def del_hostname(hostname,ip):
	set_path()
	with open(PATH, "r") as f:
		lines = f.readlines()
    #print(lines)
	with open(PATH,"w") as f_w:
		for line in lines:
			if hostname in line:
				continue
			f_w.write(line)
